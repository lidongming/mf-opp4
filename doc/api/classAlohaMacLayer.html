<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Mobility Framework: AlohaMacLayer Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>AlohaMacLayer Class Reference<br>
<small>
[<a class="el" href="group__macLayer.html">macLayer - MAC layer modules</a>]</small>
</h1><!-- doxytag: class="AlohaMacLayer" --><!-- doxytag: inherits="BasicMacLayer" -->MAC module which provides pure Aloha.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="AlohaMacLayer_8h-source.html">AlohaMacLayer.h</a>&gt;</code>
<p>
Inherits <a class="el" href="classBasicMacLayer.html">BasicMacLayer</a>.
<p>
Inheritance diagram for AlohaMacLayer:<p><center><img src="classAlohaMacLayer__inherit__graph.png" border="0" usemap="#AlohaMacLayer__inherit__map" alt="Inheritance graph"></center>
<map name="AlohaMacLayer__inherit__map">
<area href="classBasicMacLayer.html" shape="rect" coords="9,233,121,257" alt="">
<area href="classBasicLayer.html" shape="rect" coords="21,158,109,182" alt="">
<area href="classBasicModule.html" shape="rect" coords="15,83,114,107" alt="">
<area href="classImNotifiable.html" shape="rect" coords="19,9,110,33" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for AlohaMacLayer:<p><center><img src="classAlohaMacLayer__coll__graph.png" border="0" usemap="#AlohaMacLayer__coll__map" alt="Collaboration graph"></center>
<map name="AlohaMacLayer__coll__map">
<area href="classBasicMacLayer.html" shape="rect" coords="313,267,425,291" alt="">
<area href="classBasicLayer.html" shape="rect" coords="337,190,425,214" alt="">
<area href="classBasicModule.html" shape="rect" coords="335,99,434,123" alt="">
<area href="classSingleChannelRadio.html" shape="rect" coords="169,190,310,214" alt="">
<area href="classImNotifiable.html" shape="rect" coords="282,9,373,33" alt="">
<area href="classBlackboard.html" shape="rect" coords="397,9,485,33" alt="">
<area href="classBitrate.html" shape="rect" coords="7,99,66,123" alt="">
<area href="classBBItem.html" shape="rect" coords="101,9,167,33" alt="">
<area href="classRadioState.html" shape="rect" coords="90,99,178,123" alt="">
<area href="classActiveChannel.html" shape="rect" coords="202,99,311,123" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classAlohaMacLayer-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0"></a><!-- doxytag: member="AlohaMacLayer::Module_Class_Members" ref="a0" args="(AlohaMacLayer, BasicMacLayer, 0)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>Module_Class_Members</b> (<a class="el" href="classAlohaMacLayer.html">AlohaMacLayer</a>, <a class="el" href="classBasicMacLayer.html">BasicMacLayer</a>, 0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a1"></a><!-- doxytag: member="AlohaMacLayer::initialize" ref="a1" args="(int)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#a1">initialize</a> (int)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialization of the module and some variables. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a2"></a><!-- doxytag: member="AlohaMacLayer::finish" ref="a2" args="()" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#a2">finish</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete all dynamically allocated objects of the module. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a3"></a><!-- doxytag: member="AlohaMacLayer::handleUpperMsg" ref="a3" args="(cMessage *)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#a3">handleUpperMsg</a> (cMessage *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle messages from upper layer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#a4">handleSelfMsg</a> (cMessage *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle self messages such as timers.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5"></a><!-- doxytag: member="AlohaMacLayer::handleLowerControl" ref="a5" args="(cMessage *msg)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#a5">handleLowerControl</a> (cMessage *msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle control messages from lower layer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#a6">receiveBBItem</a> (int category, const <a class="el" href="classBBItem.html">BBItem</a> *details, int scopeModuleId)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by the <a class="el" href="classBlackboard.html">Blackboard</a> whenever a change occurs we're interested in.  <a href="#a6"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="x0"></a><!-- doxytag: member="AlohaMacLayer::MacQueue" ref="x0" args="" -->
typedef std::list&lt; MacPkt * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>MacQueue</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#x3">States</a> { <b>RX</b>, 
<b>TX</b>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MAC states.  <a href="classAlohaMacLayer.html#x3">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0"></a><!-- doxytag: member="AlohaMacLayer::prepareSend" ref="b0" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#b0">prepareSend</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prepare sending of a packet (switch the radio). <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p0"></a><!-- doxytag: member="AlohaMacLayer::macState" ref="p0" args="" -->
<a class="el" href="classAlohaMacLayer.html#x3">States</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#p0">macState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">kepp track of MAC state <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p1"></a><!-- doxytag: member="AlohaMacLayer::radioState" ref="p1" args="" -->
<a class="el" href="classRadioState.html#w6">RadioState::States</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#p1">radioState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current state of active channel (radio), set using radio, updated via BB. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p2"></a><!-- doxytag: member="AlohaMacLayer::catRadioState" ref="p2" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#p2">catRadioState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">category number given by bb for <a class="el" href="classRadioState.html">RadioState</a> <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p3"></a><!-- doxytag: member="AlohaMacLayer::radio" ref="p3" args="" -->
<a class="el" href="classSingleChannelRadio.html">SingleChannelRadio</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#p3">radio</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">cached pointer to radio module <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p4"></a><!-- doxytag: member="AlohaMacLayer::macQueue" ref="p4" args="" -->
MacQueue&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#p4">macQueue</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A queue to store packets from upper layer in case another packet is still waiting for transmission.. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="p5"></a><!-- doxytag: member="AlohaMacLayer::queueLength" ref="p5" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAlohaMacLayer.html#p5">queueLength</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">length of the queue <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
MAC module which provides pure Aloha. 
<p>
This is an implementation of a pure Aloha (not slottes). The idea of Aloha is to send a packet whenever a packet is ready to be sent.<p>
If a packet from the upper layer arrives although there is still another packet waiting for its transmission or being transmitted the new packet is stored in a queue. The length of this queue can be specified by the user in the omnetpp.ini file. By default the length is 10. The minimum queue length is 1. If the queue is full new packet(s) will be deleted.<p>
<dl compact><dt><b>Author:</b></dt><dd>Marc Löbbers, Yosia Hadisusanto, Andreas Koepke</dd></dl>

<p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="x3"></a><!-- doxytag: member="AlohaMacLayer::States" ref="x3" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classAlohaMacLayer.html#x3">AlohaMacLayer::States</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
MAC states. 
<p>
The MAC states help to keep track what the MAC is actually trying to do -- this is esp. useful when radio switching takes some time. RX -- MAC accepts packets from PHY layer TX -- MAC transmits a packet    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a4"></a><!-- doxytag: member="AlohaMacLayer::handleSelfMsg" ref="a4" args="(cMessage *)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void AlohaMacLayer::handleSelfMsg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">cMessage *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>msg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle self messages such as timers. 
<p>
After the timer expires try to retransmit the message by calling handleUpperMsg again.
<p>
Implements <a class="el" href="classBasicLayer.html#z16_0">BasicLayer</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6"></a><!-- doxytag: member="AlohaMacLayer::receiveBBItem" ref="a6" args="(int category, const BBItem *details, int scopeModuleId)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void AlohaMacLayer::receiveBBItem           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="classBBItem.html">BBItem</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>details</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>scopeModuleId</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called by the <a class="el" href="classBlackboard.html">Blackboard</a> whenever a change occurs we're interested in. 
<p>
Update the internal copies of interesting BB variables
<p>
Reimplemented from <a class="el" href="classBasicModule.html#a4">BasicModule</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="AlohaMacLayer_8h-source.html">AlohaMacLayer.h</a><li>AlohaMacLayer.cc</ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Jan 12 08:29:35 2007 for Mobility Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
